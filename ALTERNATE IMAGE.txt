!DOCTYPE html>
<html>
<HEAD>
<script>
 function callfun(obj)
 {
        var noimg = "smiley.gif";
        obj.src=noimg;
}
</script>

</HEAD>
<body>

<img src="smi" alt="smiley.gif" width="42" height="42" onerror="this.onerror=null;callfun(this);">

</body>
</html>
--base url ----
var str = document.URL;
var start =str.indexOf("js");
var baseURL=str.slice(0 ,start);


---ui state change
  $rootScope.$on('$stateChangeStart', function(event, toState, toParams) {
          
          // if (toState.data && toState.data.redirect) {
               
          //      var redirectTo = $injector.invoke(toState.data.redirect);

               
          //      if (redirectTo) {
                         
          //                event.preventDefault();
          //                $state.go(goToState);
          //           }
          //      }
          console.log("zzzzzzzzzzzzzzzzzzzzzzzzzzzzzz");
          console.log($rootScope.currentDirectory);
          console.log(document.URL);
          var str=document.URL;
          str.indexOf("locate");


          });

          ////////////////redirect location///////////////////////
                        var url=document.URL;
                        var end=url.indexOf('search');
                        var bpath=url.slice(0 ,end);
                        window.location=bpath;
                        $localStorage.$reset();